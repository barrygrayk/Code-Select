<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
   <!-- <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>-->
        <ui:composition>
            <h:form id="childProfile">
                
                <div id="Title" align="left" style="padding-left: 20px">
                    <h1> Onthantile's Baby Profile</h1>
                </div>
                <p:growl id="childProfilePage" showDetail="true"/>
                <div id="ComponentsRow1">
                    <p:panelGrid id="optionPanel" columns="3" style="width: 1000px;">
                        <p:column width="300px">
                            <p:selectOneMenu id="searchChildAdvance" value="#{ChildCont.selectedChild}" style="width: 50px;">
                                <f:selectItem itemLabel="Select a child" itemValue="#{ChildCont.selectedChild}"/>
                                <f:selectItems value="#{ChildCont.listOfChildren}" />
                                <p:ajax id="currentPage" update="@form" listener="#{ChildCont.getSelectedChildObject()}"/>
                            </p:selectOneMenu>
                        </p:column>
                        <p:column width="300px">
                            <h:outputText value="Alerts/Reminders"/>
                        </p:column>
                        <p:column width="300px">
                            <p:calendar id="button" showOn="button" pattern = "dd/MM/yyyy" value="#{ChildCont.searchDate}" mask = "true" style="text-align: right;">
                                <p:ajax event="dateSelect" listener="#{ChildCont.onDateSelect}" update="mealsTb"/>
                                <p:ajax event="dateSelect" listener="#{ChildCont.onDateSelect}" update="dtActivities"/>
                                <p:ajax event="dateSelect" listener="#{ChildCont.onDateSelect}" update="dtSleepRoutine"/>
                                <p:ajax event="dateSelect" listener="#{ChildCont.onDateSelect}" update="nappyTb"/>
                                <p:ajax event="dateSelect" listener="#{ChildCont.onDateSelect}" update="temperatureChart"/>
                            </p:calendar>
                            <p:commandButton value="Previous" ajax="false"/>
                            <p:commandButton value="Next" action="#{ChildCont.humorMe()}" update="mealsTb"/>
                        </p:column>
                    </p:panelGrid>
                   
                    <p:panelGrid id="topPanel" columns="4" style="width: 1000px; height: 50px">
                        <p:column >
                            <p:panelGrid columns="2" style="width: 210px; height: 100px">
                                <f:facet name="header">
                                    <h:graphicImage  width="110px" height="100px" name="#{ChildCont.child.photography}" />
                                </f:facet>
                                
                                <p:column width="150px">
                                    <h4><h:outputText value="Name: #{ChildCont.child.firstname} #{ChildCont.child.lastname}"/></h4>
                                    <h4><h:outputText value="Birth: #{ChildCont.child.dateOfBirth}" /></h4>                                  
                                    <h4><h:outputText value="Unique Marker: #{ChildCont.child.destingushingMarks}" /></h4>
                                </p:column>
                            </p:panelGrid>
                        
                        </p:column>
                        
                        <p:panel style="width: 230px">  
                            <p:chart type="line" model="#{ChildCont.heightChart}" style="height:175px; width:180px"/>
                        </p:panel>
                            
                         <p:column>
                             <p:panel style="width: 230px">
                                 <p:chart id="temperatureChart" type="line" model="#{ChildCont.temperatureChart}" style="height:175px; width:180px"/>
                            </p:panel>
                        </p:column>
                        
                        <p:column> 
                            <p:panel style="width: 230px">
                            <!--<h:outputText value="Weight chart" />-->
                            <p:chart type="bar" model="#{ChildCont.weightChart}" style="height:175px; width:180px"/>
                             </p:panel>
                        </p:column>
                              
                        
                    </p:panelGrid>
                    
                    <p:panelGrid id="secondPanel" columns="2" style="width: 1000px;">
                        <p:column >
                            <p:dataTable id="mealsTb" var="temp" value="#{ChildCont.getListOfMealsHadDb()}" selectionMode="single"  rowKey="#{temp.mealID}" >
                                <p:ajax event="rowDblselect" onsuccess="PF('dlgUpdateMeal').show()" listener="#{ChildCont.onRowDblClckSelect}" update=":updateBabyMeals:babyMealsUpdate" global="false" />
                                <p:column headerText="Meal Type">
                                    <h:outputText value="#{temp.mealDescription}" />
                                </p:column>
                                
                                <p:column headerText="Time">
                                    <h:outputText value="#{temp.mealIntakeTime}" />
                                </p:column>
                                
                                <p:column headerText="Comments">
                                    <h:outputText value="#{temp.commentOnEating}" />
                                </p:column>
                            </p:dataTable>
                        </p:column>
                        <p:column>
                            <p:dataTable id="nappyTb" var="temp" value="#{ChildCont.getListOfNappiesDb()}" selectionMode="single"  rowKey="#{temp.nappyId}">
                                <p:ajax event="rowDblselect" onsuccess="PF('dlgUpdateNappy').show()" listener="#{ChildCont.onRowDblClckSelectNappy}" update=":updateBabyNappy:NappyPanelGrid" global="false" />
                                <p:column headerText="Nappy Wet">
                                    <h:outputText value="#{temp.conditionWet}" />
                                </p:column>
                                
                                <p:column headerText="Nappy Dirty">
                                    <h:outputText value="#{temp.conditionDry}" />
                                </p:column>
                                
                                <p:column headerText="Changing Time">
                                    <h:outputText value="#{temp.nappyChangeTime}" />
                                </p:column>
                            </p:dataTable>    
                        </p:column>
                    </p:panelGrid>
                    
                    <p:panelGrid id="thirdP" columns="3" style="width: 1000px;">
                        <p:column>
                            <p:dataTable id="dtCaretakerShift">
                                <p:column headerText="Time/Shift">
                                    <h:outputText value="unavailable" />
                                </p:column>
                                <p:column headerText="Name">
                                    <h:outputText value="#{ChildCont.getCareTakerName}" />
                                </p:column>
                            </p:dataTable>
                        </p:column>
                        
                        <p:column>  
                            <p:dataTable id="dtActivities" var="temp" value="#{ChildCont.listOfActivitiesDb}" selectionMode="single" rowKey="#{temp.activityID}" style="width: 162px">
                                <p:ajax event="rowDblselect" onsuccess="PF('dlgUpdateActivity').show()" listener="#{ChildCont.onRowDblClckSelectActivity}" update=":updateBabyActivity:ActivityPanelGrid"  global="false" />
                                <p:column headerText="List of Activities"> 
                                    <h:outputText value="#{temp.title}" />
                                </p:column>
                            </p:dataTable>   
                        </p:column>
                        
                        <p:column>
                            <p:dataTable id="dtSleepRoutine" var="temp" value="#{ChildCont.getListOfSleepingRoutineDb()}" selectionMode="single"  rowKey="#{temp.sleepingRoutineID}">
                                <p:ajax event="rowDblselect" onsuccess="PF('dlgUpdateSleep').show()" listener="#{ChildCont.onRowDblClckSelectSleep}" update=":updateSleepRecordForm:sleepPanelGrid" global="false" />
                                <p:column headerText="Sleeping Time">
                                    <h:outputText value="#{temp.sleepingTime}" />
                                </p:column>
                                <p:column headerText="Waking Time">
                                    <h:outputText value="#{temp.wakingTime}" />
                                </p:column>
                            </p:dataTable>
                        </p:column> 
                    </p:panelGrid>
                    
                    <p:panelGrid id="bottomP" columns="4" style="width: 1000px;">
                        <p:column>
                            <h:outputText value="Medical Report" />
                        </p:column>
                        <p:column>
                            <h:outputText value="Anomalies" />
                        </p:column>
                        <p:column>
                            <h:outputText value="Uploading Document" />
                            <h:form enctype="multipart/form-data">
                                <p:growl id="messages" showDetail="true" />
 
                                <p:fileUpload value="#{ChildCont.humorMe()}" mode="simple"/>
 
                                <p:commandButton value="Save" ajax="false" actionListener="#{ChildCont.upload()}" disabled="true" />
                            </h:form>
                        </p:column>
                        <p:column>
                            <h:outputText value="Adoption" />
                        </p:column>
                    </p:panelGrid>

                </div>

            </h:form>
            <p:dialog  header="Update Meal Record" widgetVar="dlgUpdateMeal" resizable="false" responsive="true" showEffect="explode" hideEffect="explode">
                <ui:include src="updateBabyMeals.xhtml" />
            </p:dialog>
            <p:dialog  header="Update Sleep Record" widgetVar="dlgUpdateSleep" resizable="false" responsive="true" showEffect="explode" hideEffect="explode">
                <ui:include src="updateBabySleep.xhtml" />
            </p:dialog>
            <p:dialog  header="Update Nappy Record" widgetVar="dlgUpdateNappy" resizable="false" responsive="true" showEffect="explode" hideEffect="explode">
                <ui:include src="updateBabyNappy.xhtml" />
            </p:dialog>
            <p:dialog  header="Update Activity Record" widgetVar="dlgUpdateActivity" resizable="false" responsive="true" showEffect="explode" hideEffect="explode">
                <ui:include src="updateBabyActivity.xhtml" />
            </p:dialog>
        </ui:composition>

   <!-- </h:body>-->
</html>

